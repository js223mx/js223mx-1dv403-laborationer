{"changed":true,"filter":false,"title":"Memory.js","tooltip":"/3-gameon/memory/script/Memory.js","ace":{"folds":[],"scrolltop":1080,"scrollleft":0,"selection":{"start":{"row":103,"column":14},"end":{"row":106,"column":10},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"value":"\"use strict\";\n/*global RandomGenerator*/\nvar Memory = {\n    \n    memoArr: [],\n    choiseOfCard: [],\n    rows: 4,\n    cols: 4,\n    cardsFliped:0,\n    finnishedGame: 0,\n    numberOfTrys: 0,\n    \n    \n    init:function(){\n      \n      //myArr;  \n      //var rows = 4;\n      //var cols = 4;\n      Memory.memoArr = RandomGenerator.getPictureArray(Memory.rows, Memory.cols);\n      \n      console.log(Memory.memoArr);\n      Memory.createTable(Memory.rows, Memory.cols);\n    },\n    \n    createTable: function(rows, cols){\n      \n      var memoBoard = document.getElementById(\"memoryBoard\");\n       var myTable = document.createElement(\"table\");\n       var cardNumber = 0;\n       \n      \n       memoBoard.appendChild(myTable);\n      \n        for(var i = 0; i < rows; i++){\n        \n         var tr = document.createElement(\"tr\");\n         myTable.appendChild(tr);\n        \n          for(var j = 0; j < cols; j++){\n          \n            var td = document.createElement(\"td\");\n            tr.appendChild(td);\n          \n            var a = document.createElement(\"a\");\n            a.href = \"#\";\n            td.appendChild(a);\n          \n            var img = document.createElement(\"img\");\n            img.src = \"pics/0.png\";\n            \n            a.appendChild(img);\n            \n            Memory.turnBrick(cardNumber, a);\n            \n            cardNumber += 1;\n        }\n      }\n      \n    },\n    \n    turnBrick:function(brickNumber,picture){\n     \n     \n     picture.onclick = function(){\n      \n       var img = picture.getElementsByTagName(\"img\")[0];\n       \n       if(img.getAttribute(\"src\") !== \"pics/0.png\"){\n        \n        return;\n       }\n       \n       Memory.cardsFliped += 1;\n       \n       if(Memory.cardsFliped == 2 || Memory.cardsFliped == 1){\n        \n        img.src = \"pics/\" + Memory.memoArr[brickNumber] + \".png\";\n        Memory.choiseOfCard.push(img);\n       }\n       \n       else{\n        \n        return;\n       }\n       if(Memory.cardsFliped == 2){\n        \n        Memory.numberOfTrys += 1;\n        \n        setTimeout(function(){\n         console.log(Memory.choiseOfCard[0].getAttribute(\"src\") === Memory.choiseOfCard[1].getAttribute(\"src\"));\n         if(Memory.choiseOfCard[0].getAttribute(\"src\") === Memory.choiseOfCard[1].getAttribute(\"src\")){\n          \n          Memory.finnishedGame += 1;\n          \n          if(Memory.finnishedGame === Memory.rows * Memory.cols / 2){\n           \n           //skriver ut ett meddelande vid vinst\n           var p = document.createElement(\"p\");\n           p.textContent = \"Grattis! Du hittade alla par på \" + Memory.numberOfTrys + \" försök.\";\n           var memoBoard = document.getElementById(\"memoryBoard\");\n           memoBoard.appendChild(p);\n          }\n         }\n         else{\n          Memory.choiseOfCard[0].setAttribute(\"src\",\"pics/0.png\");\n          Memory.choiseOfCard[1].setAttribute(\"src\",\"pics/0.png\");\n          \n         }\n         \n         Memory.choiseOfCard = [];\n         Memory.cardsFliped = 0;\n        }, 1000);\n       }\n     };\n     \n     \n    }\n    \n};\nwindow.onload = Memory.init;","undoManager":{"mark":0,"position":-1,"stack":[]},"timestamp":1418654951028}